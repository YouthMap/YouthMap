{% extends "base.html" %}
{% block content %}

<h1>User Management</h1>

<table>
    <thead>
    <tr>
        <th>Username</th>
        <th>Password</th>
        <th>Email Address</th>
        <th>Super-Admin?</th>
        <th>Created</th>
        <th>Controls</th>
    </tr>
    </thead>
    <tbody>
    {% for user in users %}
        <tr>
            <td><input type="hidden" name="id" value="{{ user.id }}" required />
                <input type="text" name="username" value="{{ user.username }}" required />
                {% if user.username == current_user.username %}&nbsp;(you){% end %}</td>
            <td><input type="password" name="password" placeholder="(leave blank if no change)" /></td>
            <td><input type="text" name="email" value="{{ user.email }}" required /></td>
            <td><input type="checkbox" name="super_admin" value="true" {% if user.super_admin %}checked{% end %}></td>
            <td>{{ user.created_at.strftime("%d %B %Y") }}</td>
            <td>Update
                {% if user.username != current_user.username %}
                    Delete
                {% end %}</td>
        </tr>
    {% end %}
    </tbody>
</table>

<p><a href="/admin">Back to dashboard</a></p>

{% end %}