{% extends "base-std.html" %}
{% block content %}

<!--suppress HtmlUnknownAttribute, HtmlUnknownTarget  -->
{% if type == "perm" %}
<h2>{{ station.callsign }} {{ station.club_name }}</h2>
{% else %}
<h2>{{ station.callsign }} {{ station.club_name }}{% if station.event %} at
    {{station.event.name}}{% else %} (SES){% end %}</h2>
{% end %}

<div class="row mt-5">
    <div class="col-sm-6">
        <div id="map" style="width: 100%; height: 25em;"></div>
    </div>
    <div class="col-sm-6">
        <div class="card mx-auto bg-body-tertiary">
            <div class="card-header">
                <h5 class="mb-0 card-title">Station Details</h5>
            </div>

            <div class="card-body">
                <div class="row mb-2">
                    <div class="col-sm-4">
                        Callsign:
                    </div>
                    <div class="col-sm-8">
                        {{ station.callsign }}
                    </div>
                </div>
                <div class="row mb-2">
                    <div class="col-sm-4">
                        Club/Station:
                    </div>
                    <div class="col-sm-8">
                        {{ station.club_name }}
                    </div>
                </div>

                {% if type == "temp" %}
                {% if station.event %}
                <div class="row mb-2">
                    <div class="col-sm-4">
                        Event:
                    </div>
                    <div class="col-sm-8">
                        {{ station.event.name }}
                    </div>
                </div>
                {% end %}
                <div class="row mb-2">
                    <div class="col-sm-4">
                        Active:
                    </div>
                    <div class="col-sm-8">
                        {{ station.humanized_start_end }}
                    </div>
                </div>
                {% end %}
            </div>

            <div class="card-footer text-muted">
                <ul class="nav flex-row">
                    <li class="nav-item">
                        <a class="nav-link" href="/">&laquo; Back to map</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script type="importmap">
    {
      "imports": {
        "leaflet": "https://unpkg.com/leaflet@2.0.0-alpha.1/dist/leaflet.js",
        "leaflet-extra-markers": "https://unpkg.com/leaflet-extra-markers@2.0.1/src/index.js",
        "luxon": "https://cdn.jsdelivr.net/npm/luxon@3.7.2/+esm"
      }
    }
</script>
<script>
    let station = {% raw json_encode(station_json) %};
</script>
<script type="module" src="/js/map-viewstation.js?v=1"></script>
{% end %}